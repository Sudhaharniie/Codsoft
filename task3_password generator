import random
import string
import os

FILE_NAME = "saved_passwords.txt"

def generate_password(length, use_symbols):
    characters = string.ascii_letters + string.digits
    if use_symbols:
        characters += string.punctuation

    password = ""
    for i in range(length):
        password += random.choice(characters)

    return password

def save_password(password):
    with open(FILE_NAME, "a") as f:
        f.write(password + "\n")
    print("Password saved to file.")

while True:
    print("\n====== PASSWORD GENERATOR ======")
    print("1. Generate Password")
    print("2. View Saved Passwords")
    print("3. Exit")

    choice = input("Enter choice: ")

    # -------- generate --------
    if choice == "1":
        try:
            length = int(input("Enter password length: "))
            symbol_choice = input("Include symbols? (y/n): ")

            if symbol_choice.lower() == "y":
                password = generate_password(length, True)
            else:
                password = generate_password(length, False)

            print("Generated Password:", password)

            save = input("Save password? (y/n): ")
            if save.lower() == "y":
                save_password(password)

        except:
            print("Invalid input")

    # -------- view saved --------
    elif choice == "2":
        if not os.path.exists(FILE_NAME):
            print("No saved passwords.")
        else:
            print("\n--- SAVED PASSWORDS ---")
            with open(FILE_NAME, "r") as f:
                data = f.readlines()

            if len(data) == 0:
                print("No saved passwords.")
            else:
                for p in data:
                    print(p.strip())

    # -------- exit --------
    elif choice == "3":
        print("Exiting program...")
        break

    else:
        print("Invalid choice")

